!function(){var o,t;function n(o,t){this.$rootScope=o,this.$scope=t}o=function(a){return{restrict:"E",scope:!0,transclude:!0,templateUrl:"/imago/imago-modal.html",controller:"imagoModalController as modal",bindToController:{active:"=?",position:"<?"},link:function(t,o,n,l,e){var i;return t.fullwindow="false"!==n.fullwindow,t.fullwindow?(t.$watch("modal.active",function(o){return document.body.style.overflow=o?"hidden":""}),a.on("keydown",i=function(o){if(t.modal.active)return 27===o.keyCode&&t.modal.disable(),t.$digest()}),t.$on("$destroy",function(){return document.body.style.overflow="",a.off("keydown",i)})):o.css({position:"relative"})}}},n.prototype.activate=function(){return this.active=!0},n.prototype.disable=function(){return this.active=!1},t=n,angular.module("imago").directive("imagoModal",["$document",o]).controller("imagoModalController",["$rootScope","$scope",t])}.call(this),angular.module("imago").run(["$templateCache",function(o){o.put("/imago/imago-modal.html",'<div ng-if="modal.active" ng-class="[{\'fullwindow\': fullwindow, \'not-fullwindow\': !fullwindow}, modal.position]" stop-event="click" class="imago-modal-content"><div ng-transclude="ng-transclude" class="wrapper"></div></div>')}]);