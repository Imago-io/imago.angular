(function(){var o,t;o=function(){function o(o,t){return{restrict:"E",scope:!0,transclude:!0,templateUrl:"/imago/imago-modal.html",controller:"imagoModalController as modal",bindToController:{active:"=?",position:"<?"},link:function(n,e,i,l,a){var r;return n.fullwindow="false"!==i.fullwindow,n.fullwindow?(n.$watch("modal.active",function(o){return o?document.body.style.overflow="hidden":document.body.style.overflow="auto"}),r=function(o){return n.modal.active?(o.keyCode===t.escape&&n.modal.disable(),n.$digest()):void 0},o.on("keydown",r),n.$on("$destroy",function(){return document.body.style.overflow="auto",o.off("keydown",r)})):e.css({position:"relative"})}}}return o}(),t=function(){function o(o,t){this.$rootScope=o,this.$scope=t}return o.prototype.activate=function(){return this.active=!0},o.prototype.disable=function(){return this.active=!1},o}(),angular.module("imago").directive("imagoModal",["$document","keyCodes",o]).controller("imagoModalController",["$rootScope","$scope",t])}).call(this),angular.module("imago").run(["$templateCache",function(o){o.put("/imago/imago-modal.html",'<div ng-if="modal.active" ng-class="[{\'fullwindow\': fullwindow, \'not-fullwindow\': !fullwindow}, modal.position]" stop-propagation="stop-propagation" class="imago-modal-content"><div ng-transclude="ng-transclude" class="wrapper"></div></div>')}]);