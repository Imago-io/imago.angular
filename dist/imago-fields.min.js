var ImagoFieldCheckbox;ImagoFieldCheckbox=function(){function e(){return{replace:!0,require:"ngModel",scope:{ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-checkbox.html",link:function(e,n,r,i){return r.disabled&&(e.disabled=!0),r.$observe("disabled",function(n){return e.disabled=n}),e.update=function(n){return e.disabled?void 0:(n=!n,i.$setViewValue(n),i.$render(),r.required?i.$setValidity("required",n):void 0)}}}}return e}(),angular.module("imago").directive("imagoFieldCheckbox",[ImagoFieldCheckbox]);var ImagoFieldCurrency,ImagoFieldCurrencyController,imagoFilterCurrency;ImagoFieldCurrency=function(){function e(){return{replace:!0,require:"ngModel",scope:{currencies:"=",ngModel:"=",save:"&ngChange"},transclude:!0,controller:"imagoFieldCurrencyController as fieldcurrency",bindToController:!0,templateUrl:"/imago/imago-field-currency.html",link:function(e,n,r,i){var l;return(null!=(l=e.fieldcurrency.currencies)?l.length:void 0)?(e.$watchCollection("fieldcurrency.ngModel",function(n){var r,i,l,t,a;if(_.isPlainObject(e.fieldcurrency.ngModel)){for(e.fieldcurrency.notComplete={},t=e.fieldcurrency.currencies,a=[],i=0,l=t.length;l>i;i++)r=t[i],angular.isDefined(e.fieldcurrency.ngModel[r])||a.push(e.fieldcurrency.notComplete[r]=!0);return a}}),e.update=function(n){var r;for(r in n)n[r]=parseFloat(n[r]);return i.$setViewValue(n),i.$render(),e.fieldcurrency.save()}):console.log("no currencies!!")}}}return e}(),ImagoFieldCurrencyController=function(){function e(){var e;(null!=(e=this.currencies)?e.length:void 0)&&(this.currency=angular.copy(this.currencies[0]))}return e}(),imagoFilterCurrency=function(){function e(){return{require:"ngModel",link:function(e,n,r,i){return i.$formatters.unshift(function(e){return angular.isDefined(e)&&!_.isNull(e)&&(e=(e/100).toFixed(2)),isNaN(e)&&(e=void 0),e}),i.$parsers.unshift(function(e){var n;return e?(n=e.replace(/[^\d|\-+|\.+]/g,""),n=parseFloat(100*n),n=n.toFixed(2)):void 0})}}}return e}(),angular.module("imago").directive("imagoFieldCurrency",[ImagoFieldCurrency]).controller("imagoFieldCurrencyController",[ImagoFieldCurrencyController]).directive("imagoFilterCurrency",[imagoFilterCurrency]);var ImagoFieldDate;ImagoFieldDate=function(){function e(){return{replace:!0,require:"ngModel",scope:{min:"=",max:"=",ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-date.html",link:function(e,n,r,i){return e.update=function(e){return i.$setViewValue(e),i.$render()}}}}return e}(),angular.module("imago").directive("imagoFieldDate",[ImagoFieldDate]);var ImagoFieldEmail;ImagoFieldEmail=function(){function e(){return{replace:!0,require:"ngModel",scope:{ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-email.html",link:function(e,n,r,i){return r.required&&(e.required=!0),e.update=function(e){return i.$setViewValue(e),i.$render()}}}}return e}(),angular.module("imago").directive("imagoFieldEmail",[ImagoFieldEmail]);var ImagoFieldNumber;ImagoFieldNumber=function(){function e(){return{replace:!0,require:"ngModel",scope:{min:"=",max:"=",ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-number.html",link:function(e,n,r,i){var l,t;return r.disabled&&(e.disabled=!0),r.$observe("disabled",function(n){return e.disabled=n}),i.$render=function(){return t()},i.$formatters.push(function(e){return parseFloat(e)}),i.$parsers.push(function(e){return parseFloat(e)}),t=function(){var n;return n=!(e.isLimitMin(!0)||e.isLimitMax(!0)),i.$setValidity("outOfBounds",n)},l=function(n){var r;return r=i.$viewValue+n,e.update(r)},e.update=function(n){return e.disabled?void 0:(_.isNaN(n)&&(n=1),n=parseFloat(n),i.$setViewValue(n),i.$render())},e.isLimitMin=function(){return i.$viewValue<e.min?!0:void 0},e.isLimitMax=function(){return i.$viewValue>e.max?!0:void 0},e.isOverMin=function(){return i.$viewValue<e.min+1?!0:void 0},e.isOverMax=function(){return i.$viewValue>e.max-1?!0:void 0},e.decrement=function(){return l(-1)},e.increment=function(){return l(1)},t(),e.$watchGroup(["min","max"],function(){return t()})}}}return e}(),angular.module("imago").directive("imagoFieldNumber",[ImagoFieldNumber]);var ImagoFieldString;ImagoFieldString=function(){function e(){return{replace:!0,require:"ngModel",scope:{ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-string.html",link:function(e,n,r,i){return e.update=function(e){return i.$setViewValue(e),i.$render()}}}}return e}(),angular.module("imago").directive("imagoFieldString",[ImagoFieldString]),angular.module("imago").run(["$templateCache",function(e){e.put("/imago/imago-field-checkbox.html",'<div class="imago-checkbox"><label ng-class="{active: ngModel, disabled: disabled}" ng-click="update(ngModel)" class="topcoat-checkbox"><div class="topcoat-checkbox__checkmark"></div><span ng-transclude="ng-transclude"></span></label></div>'),e.put("/imago/imago-field-currency.html",'<div ng-class="{expanded: fieldcurrency.expanded}" class="imago-field currency"><button ng-click="fieldcurrency.expanded = !fieldcurrency.expanded" class="ii ii-caret-left"></button><div class="fields"><div ng-if="!fieldcurrency.expanded" ng-class="{focus:onfocus}" class="wrapper compact"><label><span ng-repeat="cur in fieldcurrency.currencies" ng-click="fieldcurrency.currency = cur" ng-class="{active: fieldcurrency.currency === cur, invalid: fieldcurrency.notComplete[cur]}">{{cur}}</span></label><input type="text" imago-filter-currency="imago-filter-currency" ng-model="fieldcurrency.ngModel[fieldcurrency.currency]" ng-model-options="{updateOn: \'blur\'}" ng-change="update(fieldcurrency.ngModel); onfocus = false" ng-disabled="!fieldcurrency.currency" ng-focus="onfocus = true"/></div><div ng-repeat="cur in fieldcurrency.currencies" ng-if="fieldcurrency.expanded" ng-class="{invalid: fieldcurrency.notComplete[cur]}" class="wrapper expanded"><div class="imago-field"><label>{{cur}}</label><input type="text" currency="{{cur}}" imago-filter-currency="imago-filter-currency" ng-model="fieldcurrency.ngModel[cur]" ng-model-options="{updateOn: \'blur\'}" ng-blur="update(fieldcurrency.ngModel)"/></div></div></div></div>'),e.put("/imago/imago-field-date.html",'<div class="imago-field date"><div ng-transclude="ng-transclude"></div><input type="text" date-time="date-time" dismiss="true" ng-model="ngModel" ng-blur="update(ngModel)" view="date" min-view="date" partial="true"/></div>'),e.put("/imago/imago-field-email.html",'<div class="imago-field email"><div ng-transclude="ng-transclude"></div><input type="email" ng-model="ngModel" ng-blur="update(ngModel)" ng-required="required"/></div>'),e.put("/imago/imago-field-number.html",'<div class="imago-field number"><div ng-transclude="ng-transclude"></div><input type="text" ng-model="ngModel" ng-model-options="{\'updateOn\': \'blur\'}" ng-change="update(ngModel)"/><button type="button" ng-disabled="isOverMin() || disabled" ng-click="decrement()" class="decrement"></button><button type="button" ng-disabled="isOverMax() || disabled" ng-click="increment()" class="increment"></button></div>'),e.put("/imago/imago-field-string.html",'<div class="imago-field string"><div ng-transclude="ng-transclude"></div><input type="text" ng-model="ngModel" ng-change="update(ngModel)"/></div>')}]);