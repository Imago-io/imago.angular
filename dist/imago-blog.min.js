(function(){var t;t=function(){function t(t,e){return{scope:{query:"@",posts:"=",state:"@",prevPage:"&prev",nextPage:"&next",pageSize:"@",tags:"=?",currentPage:"=?",opts:"@"},restrict:"E",templateUrl:function(t,e){return e.templateUrl||"/imago/imago-pager.html"},link:function(a,n,r){return a.fetchPosts=function(){var n,s,g,o,u;return a.loaded=!1,a.count+=1,a.posts=[],a.pageSize=(null!=(g=e.current.data)?g.pageSize:void 0)||parseInt(a.pageSize)||10,a.currentPage=e.params.page||parseInt(a.currentPage)||1,a.state||(a.state=(null!=(o=e.current.data)?o.state:void 0)||_.head(e.current.name.split("."))),s=a.query||r.path||(null!=(u=e.current.data)?u.query:void 0),s=_.includes(s,"{")?a.$eval(s):{path:s},s.page=a.currentPage,s.pagesize=a.pageSize,a.opts&&_.includes(a.opts,"{")&&(a.opts=a.$eval(a.opts)),a.opts||(a.opts={}),(e.params.tag||a.tags)&&(s.tags=e.params.tag||a.tags),(null!=s?s.path:void 0)&&_.includes(s.path,"/page/")&&(n=s.path.indexOf("/page/"),s.path=s.path.slice(0,n)),t.getData(s).then(function(t){return function(t){var e,n,r;for(n=0,r=t.length;r>n;n++){e=t[n],a.next=e.next,a.opts.shuffle?a.posts=_.shuffle(e.assets):a.posts=e.assets,a.totalPages=e.count/a.pageSize;break}return a.loaded=!0}}(this))},a.prevState=function(){return e.params.tag?e.go(a.state+".filtered.paged",{tag:e.params.tag,page:a.currentPage}):a.state?e.go(a.state+".paged",{page:a.currentPage}):void 0},a.nextState=function(){return e.params.tag?e.go(a.state+".filtered.paged",{tag:e.params.tag,page:a.currentPage}):a.state?e.go(a.state+".paged",{page:a.currentPage}):void 0},a.onPrev=function(){return a.currentPage--,r.prev?a.prevPage():a.state?a.prevState():void 0},a.onNext=function(){return a.currentPage++,r.next?a.nextPage():a.state?a.nextState():void 0},a.$watchGroup(["currentPage","tags"],a.fetchPosts),a.state?a.$on("$stateChangeSuccess",function(t,e,n){return a.state===e.name?a.currentPage=1:void 0}):void 0}}}return t}(),angular.module("imago").directive("imagoPager",["imagoModel","$state",t])}).call(this),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imago-pager.html",'<div ng-show="loaded" class="imago-pager-content"><button ng-disabled="currentPage &lt;= 1" ng-click="onPrev()" class="prev">Previous</button><button ng-disabled="(currentPage &gt;= totalPages &amp;&amp; !next) || (posts.length &lt; pageSize &amp;&amp; !next) || !next" ng-click="onNext()" class="next">Next</button></div>')}]);