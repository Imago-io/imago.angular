(function(){var t,e;t=function(){function t(){return{scope:{state:"@",posts:"=",prevPage:"&prev",nextPage:"&next",path:"@",pageSize:"@",tags:"=",currentPage:"=",shuffle:"="},restrict:"E",controller:"imagoPagerController as imagopager",bindToController:!0,templateUrl:function(t,e){return e.templateUrl||"/imago/imago-pager.html"}}}return t}(),e=function(){function t(t,e,a,r){this.fetchPosts=function(t){return function(){var e,n;return t.count+=1,t.posts=[],t.pageSize=parseInt(t.pageSize)||10,t.currentPage=parseInt(t.currentPage)||r.params.page||1,t.state||(t.state="blog"),n={path:t.path,page:t.currentPage,pagesize:t.pageSize},(t.tags||r.params.tag)&&(n.tags=t.tags||r.params.tag),(null!=n?n.path:void 0)&&_.includes(n.path,"/page/")&&(e=n.path.indexOf("/page/"),n.path=n.path.slice(0,e)),a.getData([n],{localData:!1}).then(function(e){var a,r,n,g;for(g=[],r=0,n=e.length;n>r;r++){a=e[r],t.next=a.next,"true"===t.shuffle?t.posts=_.shuffle(a.assets):t.posts=a.assets,t.totalPages=a.count/t.pageSize;break}return g})}}(this),this.prevState=function(){return r.params.tag?r.go(this.state+".filtered.paged",{tag:r.params.tag,page:this.currentPage}):this.state?r.go(this.state+".paged",{page:this.currentPage}):void 0},this.nextState=function(){return r.params.tag?r.go(this.state+".filtered.paged",{tag:r.params.tag,page:this.currentPage}):this.state?r.go(this.state+".paged",{page:this.currentPage}):void 0},this.onPrev=function(t){return function(){return t.currentPage--,e.prev?t.prevPage():t.state?t.prevState():void 0}}(this),this.onNext=function(t){return function(){return t.currentPage++,e.next?t.nextPage():t.state?t.nextState():void 0}}(this),t.$watchGroup(["imagopager.currentPage","imagopager.tags"],this.fetchPosts),this.state&&t.$on("$stateChangeSuccess",function(t){return function(e,a,r){return t.state===a.name?t.currentPage=1:void 0}}(this))}return t}(),angular.module("imago").directive("imagoPager",[t]).controller("imagoPagerController",["$scope","$attrs","imagoModel","$state",e])}).call(this),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imago-pager.html",'<div class="imago-pager-content"><button ng-disabled="imagopager.currentPage &lt;= 1" ng-click="imagopager.onPrev()" class="prev">Previous</button><button ng-disabled="(imagopager.currentPage &gt;= imagopager.totalPages &amp;&amp; !imagopager.next) || (imagopager.posts.length &lt; imagopager.pageSize &amp;&amp; !imagopager.next) || !imagopager.next" ng-click="imagopager.onNext()" class="next">Next</button></div>')}]);