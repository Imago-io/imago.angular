(function(){var o;o=function(){function o(o){return{templateUrl:"/imago/imago-button-progress.html",transclude:!0,scope:{action:"&",progress:"="},link:function(t,n,e){var s,a,r;if(t.actionType=e.progress?"progress":"action",e.progress&&t.$watch("progress",function(o){return o===!0?t.animateClass=["animate","progress"]:t.animateClass=[]}),e.action){t.opts={duration:1e3};for(s in e)t.opts[s]&&("true"===(r=e[s])||"false"===r?t.opts[s]=JSON.parse(e[s]):isNaN(e[s])?t.opts[s]=e[s]:t.opts[s]=Number(e[s]));return t.style={transitonDuration:t.opts.duration},a=null,t.mouseUp=function(){return t.animateClass=[],t.$digest(),o.cancel(a),t.allowAction?(t.action(),t.allowAction=!1):void 0},t.mouseDown=function(){return t.allowAction=!1,t.animateClass=["animate","progress"],t.$digest(),a=o(function(){return t.allowAction=!0,t.mouseUp()},t.opts.duration)},t.mouseLeave=function(){return t.animateClass=[],t.allowAction=!1,o.cancel(a),t.$digest()},n.on("mousedown",t.mouseDown),n.on("mouseup",t.mouseUp),n.on("mouseleave",t.mouseLeave),t.$on("$destroy",function(){return n.off("mousedown",t.mouseDown),n.off("mouseup",t.mouseUp),n.off("mouseleave",t.mouseLeave)})}}}}return o}(),angular.module("imago").directive("imagoButtonProgress",["$timeout",o])}).call(this),angular.module("imago").run(["$templateCache",function(o){o.put("/imago/imago-button-progress.html",'<button class="btn btn-progress"><div ng-style="style" ng-class="animateClass" class="progress-bar type-{{actionType}}"></div><div ng-transclude="ng-transclude" class="imago-button-progress-content"></div></button>')}]);