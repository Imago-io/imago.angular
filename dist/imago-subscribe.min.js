!function(){var t,i;function r(t,i,r,e){this.$scope=t,this.$attrs=i,this.$http=r,this.imagoModel=e}t=function(){return{require:"form",restrict:"A",transclude:!0,scope:!0,controller:"imagoSubscribeController as imagosubscribe",bindToController:{data:"="},templateUrl:function(t,i){return i.templateUrl||"/imago/imago-subscribe.html"}}},r.prototype.submit=function(){var i;if(!this.$attrs.name||!this.$scope.$eval(this.$attrs.name).$invalid)return this.submitted=!0,this.$http.post(this.imagoModel.host+"/api/subscribe",this.data).then((i=this,function(t){return i.error=!1}),function(t){return this.error=!0})},i=r,angular.module("imago").directive("imagoSubscribe",[t]).controller("imagoSubscribeController",["$scope","$attrs","$http","imagoModel",i])}.call(this),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imago-subscribe.html",'<div class="imago-subscribe-content"><div ng-transclude="ng-transclude" ng-hide="imagosubscribe.submitted &amp;&amp; !imagosubscribe.error"></div><div ng-show="imagosubscribe.error" class="error">please try again later</div><div ng-show="imagosubscribe.submitted &amp;&amp; !imagosubscribe.error" class="submitted">subscription created</div></div>')}]);