!function(){var o,n;function t(){}o=function(){return{bindings:{action:"&"},controller:"imagoButtonConfirmController",templateUrl:"/imago/imago-button-confirm.html",transclude:!0}},t.prototype.onClick=function(o){return this.confirm||o.metaKey?(this.action({$event:o}),this.confirm=!1):this.confirm=!0},n=t,angular.module("imago").component("imagoButtonConfirm",new o).controller("imagoButtonConfirmController",[n])}.call(this),function(){var o=function(i){return{templateUrl:"/imago/imago-button-progress.html",transclude:!0,scope:{action:"&",progress:"=",disabled:"=?ngDisabled"},link:function(n,o,t){var e,s,a;for(e in n.opts={duration:1e3},t)n.opts[e]&&("true"===(a=t[e])||"false"===a?n.opts[e]=JSON.parse(t[e]):isNaN(t[e])?n.opts[e]=t[e]:n.opts[e]=Number(t[e]));return n.actionType=t.progress?"progress":"action","progress"===n.actionType?n.$watch("progress",function(o){if(_.isBoolean(o))return!0===o?n.animateClass=["progress"]:(n.animateClass=["progress","done"],i(function(){return n.animateClass=[]},n.opts.duration))}):"action"===n.actionType?(n.style={transitonDuration:n.opts.duration},s=null,n.mouseUp=function(){if(n.animateClass=[],n.$digest(),i.cancel(s),n.allowAction)return n.action(),n.allowAction=!1},n.mouseDown=function(){return n.allowAction=!1,n.animateClass=["progress"],n.$digest(),s=i(function(){return n.allowAction=!0,n.mouseUp()},n.opts.duration)},n.mouseLeave=function(){return n.animateClass=[],n.allowAction=!1,i.cancel(s),n.$digest()},o.on("mousedown",n.mouseDown),o.on("mouseup",n.mouseUp),o.on("mouseleave",n.mouseLeave),n.$on("$destroy",function(){return o.off("mousedown",n.mouseDown),o.off("mouseup",n.mouseUp),o.off("mouseleave",n.mouseLeave)})):void 0}}};angular.module("imago").directive("imagoButtonProgress",["$timeout",o])}.call(this),angular.module("imago").run(["$templateCache",function(o){o.put("/imago/imago-button-confirm.html",'<button ng-click="$ctrl.onClick($event)" class="btn btn-confirm"><span ng-show="$ctrl.confirm" class="message-confirm">Sure?</span><div ng-hide="$ctrl.confirm" ng-transclude="ng-transclude" class="imago-button-confirm-content"></div></button>'),o.put("/imago/imago-button-progress.html",'<button ng-disabled="disabled" class="btn btn-progress"><div ng-style="style" ng-class="animateClass" class="progress-bar type-{{actionType}}"></div><div ng-class="animateClass" class="success-bar"></div><div ng-transclude="ng-transclude" class="imago-button-progress-content"></div></button>')}]);