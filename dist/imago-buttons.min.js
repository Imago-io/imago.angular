(function(){var n,o;n=function(){function n(){return{bindings:{action:"&"},controller:"imagoButtonConfirmController",templateUrl:"/imago/imago-button-confirm.html",transclude:!0}}return n}(),o=function(){function n(){}return n.prototype.onClick=function(n){return this.confirm||n.metaKey?(this.action({$event:n}),this.confirm=!1):this.confirm=!0},n}(),angular.module("imago").component("imagoButtonConfirm",new n).controller("imagoButtonConfirmController",[o])}).call(this),function(){var n;n=function(){function n(n){return{templateUrl:"/imago/imago-button-progress.html",transclude:!0,scope:{action:"&",progress:"=",disabled:"=?ngDisabled"},link:function(o,t,e){var s,a,i;o.opts={duration:1e3};for(s in e)o.opts[s]&&("true"===(i=e[s])||"false"===i?o.opts[s]=JSON.parse(e[s]):isNaN(e[s])?o.opts[s]=e[s]:o.opts[s]=Number(e[s]));return o.actionType=e.progress?"progress":"action","progress"===o.actionType?o.$watch("progress",function(t){return _.isBoolean(t)?t===!0?o.animateClass=["progress"]:(o.animateClass=["progress","done"],n(function(){return o.animateClass=[]},o.opts.duration)):void 0}):"action"===o.actionType?(o.style={transitonDuration:o.opts.duration},a=null,o.mouseUp=function(){return o.animateClass=[],o.$digest(),n.cancel(a),o.allowAction?(o.action(),o.allowAction=!1):void 0},o.mouseDown=function(){return o.allowAction=!1,o.animateClass=["progress"],o.$digest(),a=n(function(){return o.allowAction=!0,o.mouseUp()},o.opts.duration)},o.mouseLeave=function(){return o.animateClass=[],o.allowAction=!1,n.cancel(a),o.$digest()},t.on("mousedown",o.mouseDown),t.on("mouseup",o.mouseUp),t.on("mouseleave",o.mouseLeave),o.$on("$destroy",function(){return t.off("mousedown",o.mouseDown),t.off("mouseup",o.mouseUp),t.off("mouseleave",o.mouseLeave)})):void 0}}}return n}(),angular.module("imago").directive("imagoButtonProgress",["$timeout",n])}.call(this),angular.module("imago").run(["$templateCache",function(n){n.put("/imago/imago-button-confirm.html",'<button ng-click="$ctrl.onClick($event)" class="btn btn-confirm"><span ng-show="$ctrl.confirm" class="message-confirm">Sure?</span><div ng-hide="$ctrl.confirm" ng-transclude="ng-transclude" class="imago-button-confirm-content"></div></button>'),n.put("/imago/imago-button-progress.html",'<button ng-disabled="disabled" class="btn btn-progress"><div ng-style="style" ng-class="animateClass" class="progress-bar type-{{actionType}}"></div><div ng-class="animateClass" class="success-bar"></div><div ng-transclude="ng-transclude" class="imago-button-progress-content"></div></button>')}]);