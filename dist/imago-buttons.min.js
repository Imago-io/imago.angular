(function(){var o,n;o=function(){function o(){return{bindings:{action:"&"},controller:"imagoButtonConfirmController",templateUrl:"/imago/imago-button-confirm.html",transclude:!0}}return o}(),n=function(){function o(){}return o.prototype.onClick=function(o){return this.confirm||o.metaKey?(this.action({$event:o}),this.confirm=!1):this.confirm=!0},o}(),angular.module("imago").component("imagoButtonConfirm",new o).controller("imagoButtonConfirmController",[n])}).call(this),function(){var o;o=function(){function o(o){return{templateUrl:"/imago/imago-button-progress.html",transclude:!0,scope:{action:"&",progress:"="},link:function(n,t,e){var s,r,a;n.opts={duration:1e3};for(s in e)n.opts[s]&&("true"===(a=e[s])||"false"===a?n.opts[s]=JSON.parse(e[s]):isNaN(e[s])?n.opts[s]=e[s]:n.opts[s]=Number(e[s]));return n.actionType=e.progress?"progress":"action","progress"===n.actionType?n.$watch("progress",function(t){return _.isBoolean(t)?t===!0?n.animateClass=["progress"]:(n.animateClass=["progress","done"],o(function(){return n.animateClass=[]},n.opts.duration)):void 0}):"action"===n.actionType?(n.style={transitonDuration:n.opts.duration},r=null,n.mouseUp=function(){return n.animateClass=[],n.$digest(),o.cancel(r),n.allowAction?(n.action(),n.allowAction=!1):void 0},n.mouseDown=function(){return n.allowAction=!1,n.animateClass=["progress"],n.$digest(),r=o(function(){return n.allowAction=!0,n.mouseUp()},n.opts.duration)},n.mouseLeave=function(){return n.animateClass=[],n.allowAction=!1,o.cancel(r),n.$digest()},t.on("mousedown",n.mouseDown),t.on("mouseup",n.mouseUp),t.on("mouseleave",n.mouseLeave),n.$on("$destroy",function(){return t.off("mousedown",n.mouseDown),t.off("mouseup",n.mouseUp),t.off("mouseleave",n.mouseLeave)})):void 0}}}return o}(),angular.module("imago").directive("imagoButtonProgress",["$timeout",o])}.call(this),angular.module("imago").run(["$templateCache",function(o){o.put("/imago/imago-button-confirm.html",'<button ng-click="$ctrl.onClick($event)" class="btn btn-confirm"><span ng-show="$ctrl.confirm" class="message-confirm">Sure?</span><div ng-hide="$ctrl.confirm" ng-transclude="ng-transclude" class="imago-button-confirm-content"></div></button>'),o.put("/imago/imago-button-progress.html",'<button class="btn btn-progress"><div ng-style="style" ng-class="animateClass" class="progress-bar type-{{actionType}}"></div><div ng-class="animateClass" class="success-bar"></div><div ng-transclude="ng-transclude" class="imago-button-progress-content"></div></button>')}]);