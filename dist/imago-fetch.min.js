(function(){var t,e;t=function(){function t(t,e){return{restrict:"E",scope:!0,templateUrl:"/imago/imago-fetch.html",transclude:!0,controller:"imagoFetchController as imagofetch",bindToController:{query:"@"},link:function(t,e,n,o,i){return i(t,function(t){return e.children().append(t)})}}}return t}(),e=function(){function t(t,e){if(!this.query)throw"No query set in imagofetch";_.includes(this.query,"{")&&(this.query=t.$eval(this.query)),e.getData(this.query,{skipTitle:!0}).then(function(t){return function(e){var n,o,i,r,a,l,u,c;for(c=[],o=0,a=e.length;a>o;o++){for(n=e[o],u=n.assets,r=0,l=u.length;l>r;r++)i=u[r],"/home"===i.path&&(i.path="/"),i.normname=imagoUtils.normalize(i.name);t.result=n;break}return c}}(this))}return t}(),angular.module("imago").directive("imagoFetch",["imagoModel","imagoUtils",t]).controller("imagoFetchController",["$scope","imagoModel",e])}).call(this),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imago-fetch.html",'<div class="imago-fetch-content"></div>')}]);