(function(){var t,e;t=function(){return function(){return{restrict:"E",scope:!0,templateUrl:"/imago/imago-fetch.html",transclude:!0,controller:"imagoFetchController as imagofetch",bindToController:{query:"@"},link:function(t,e,n,r,o){return o(t,function(t){return e.children().append(t)})}}}}(),e=function(){return function(t,e,n){if(!this.query)throw"No query set in imagofetch";_.includes(this.query,"{")&&(this.query=t.$eval(this.query)),e.getData(this.query,{updatePageTitle:!1}).then(function(t){return function(e){var r,o,i,a,l,u,c,h;for(h=[],o=0,l=e.length;o<l;o++){for(a=0,u=(c=(r=e[o]).assets).length;a<u;a++)"/home"===(i=c[a]).path&&(i.path="/"),i.normname=n.normalize(i.name);t.result=r;break}return h}}(this))}}(),angular.module("imago").directive("imagoFetch",[t]).controller("imagoFetchController",["$scope","imagoModel","imagoUtils",e])}).call(this),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imago-fetch.html",'<div class="imago-fetch-content"></div>')}]);