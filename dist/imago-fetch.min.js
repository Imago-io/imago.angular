!function(){var e=function(){return{restrict:"E",scope:!0,templateUrl:"/imago/imago-fetch.html",transclude:!0,controller:"imagoFetchController as imagofetch",bindToController:{query:"@"},link:function(e,t,o,r,i){return i(e,function(e){return t.children().append(e)})}}},t=function(e,t,u){if(!this.query)throw"No query set in imagofetch";var h;_.includes(this.query,"{")&&(this.query=e.$eval(this.query)),t.getData(this.query,{updatePageTitle:!1}).then((h=this,function(e){for(var t,o,r,i,n,a=[],l=0,c=e.length;l<c;l++){for(r=0,i=(n=(t=e[l]).assets).length;r<i;r++)"/home"===(o=n[r]).path&&(o.path="/"),o.normname=u.normalize(o.name);h.result=t;break}return a}))};angular.module("imago").directive("imagoFetch",[e]).controller("imagoFetchController",["$scope","imagoModel","imagoUtils",t])}.call(this),angular.module("imago").run(["$templateCache",function(e){e.put("/imago/imago-fetch.html",'<div class="imago-fetch-content"></div>')}]);