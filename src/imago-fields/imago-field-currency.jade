.imago-field.currency(ng-class="{expanded: input.expanded}")
  button(
    ng-click="input.expanded = !input.expanded"
    )
  .wrapper.compact(
    ng-if="!input.expanded"
    ng-class="{focus:onfocus}"
    )
    //- div(ng-transclude)
    //- select(
    //-   ng-model="currency"
    //-   ng-options="currency for currency in currencies"
    //- )

    label
      span(ng-repeat="cur in currencies"
        ng-click="currency = cur") {{cur}}
    input(
      type="text"
      imago-filter-currency
      ng-model="ngModel[currency]"
      ng-model-options="{updateOn: 'blur'}"
      ng-change="update(ngModel); onfocus = false"
      ng-disabled="!currency"
      ng-focus="onfocus = true"
    )

  .wrapper.expanded(
    ng-repeat="cur in currencies"
    ng-if="input.expanded"
    )

    .imago-field
      label {{cur}}
      input(type="text"
        currency="{{cur}}"
        imago-filter-currency
        ng-model="ngModel[cur]"
        ng-focus="onFocus(input)"
        ng-blur="unbindSave(input); saveOnBlur(input);"
        )

  .imago-message-info(ng-show="notComplete") somes currencies do not have any valued